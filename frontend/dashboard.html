<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PCOS Smart Assistant — Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles/healthcare.css">
    <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
    <link rel="manifest" href="manifest.json">
    <script src="https://cdn.jsdelivr.net/gh/darkroomengineering/lenis@latest/bundled/lenis.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body class="health-dashboard">
        <!-- Premium Loader Overlay -->
        <div class="premium-loader" id="dashboardLoader" style="display:none;">
            <div class="premium-loader-content">
                <div class="loader-logo">PCOS Smart Assistant</div>
                <div class="loader-dots"><span></span><span></span><span></span></div>
                <div class="loader-progress"><div class="loader-progress-bar"></div></div>
                <div class="loader-text">Loading your dashboard...</div>
            </div>
        </div>
        <!-- Navigation -->
    <header class="top-nav">
        <div class="top-nav__left">
            <a href="landing.html" class="nav__logo">
                <span class="logo-icon">🏥</span>
                <span class="logo-text">PCOS AI</span>
            </a>
        </div>
        <div class="top-nav__right">
            <div class="lang-switch">
                <select id="languageSelect" aria-label="Select language">
                    <option value="en">English</option>
                    <option value="te">తెలుగు</option>
                    <option value="hi">हिंदी</option>
                </select>
            </div>
            <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme">
                <span class="theme-icon"></span>
            </button>
                <a href="form.html" class="btn btn--primary btn--sm special-add-entry" id="specialAddEntry">
                    <span style="font-size:1.2em;vertical-align:middle;">✨</span> <span style="vertical-align:middle;">Add Entry</span>
                </a>
        </div>
    </header>

    <main class="dashboard">
        <!-- Dashboard Header -->
        <div class="dashboard__header">
            <div>
                <h1 class="dashboard__title">Your Health Dashboard</h1>
                <p class="dashboard__subtitle">Track your wellness journey and receive personalized insights</p>
            </div>
            <div class="dashboard__actions">
                <div class="trust-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/>
                    </svg>
                    <span>Data stored locally</span>
                                </div>
                                <p class="ai-disclaimer" style="margin-top:1.2rem;font-size:0.92rem;color:var(--color-text-muted,#94a3b8);text-align:center;">
                                    <span style="font-size:1.1em;">⚠️</span> AI suggestions are informational only and not medical advice. Always consult a healthcare provider.
                                </p>
            </div>
        </div>

        <!-- Stats Row -->
        <div class="stats-row stagger-children">
            <div class="stat-item">
                <div class="stat-item__icon" style="background: rgba(14, 165, 233, 0.1); color: #0ea5e9;">
                    📅
                </div>
                <div class="stat-item__value" id="insight-cycle">—</div>
                <div class="stat-item__label">Avg Cycle Days</div>
            </div>
            <div class="stat-item">
                <div class="stat-item__icon" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">
                    🩸
                </div>
                <div class="stat-item__value" id="insight-period">—</div>
                <div class="stat-item__label">Period Days</div>
            </div>
            <div class="stat-item">
                <div class="stat-item__icon" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">
                    📊
                </div>
                <div class="stat-item__value" id="health-score">—</div>
                <div class="stat-item__label">Health Score</div>
            </div>
            <div class="stat-item">
                <div class="stat-item__icon" style="background: rgba(147, 51, 234, 0.1); color: #9333ea;">
                    🏥
                </div>
                <div class="stat-item__value" id="insight-symptoms">—</div>
                <div class="stat-item__label">Symptoms Logged</div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="dashboard__grid">
            <!-- Latest Entry Card -->
            <div class="healthcare-card insight-card glass stagger-children">
                <div class="healthcare-card__header">
                    <div class="healthcare-card__icon">📝</div>
                    <div>
                        <h3 class="healthcare-card__title">Latest Entry</h3>
                        <p class="healthcare-card__subtitle" id="latest-timestamp">No entries yet</p>
                    </div>
                </div>
                <div class="healthcare-card__content">
                    <div class="metric-display">
                        <div class="metric-display__chart">
                            <svg viewBox="0 0 36 36" class="circular-progress">
                                <path class="progress-ring__bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e2e8f0" stroke-width="3"/>
                                <path class="progress-ring__circle" id="healthScoreRing" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#0ea5e9" stroke-width="3" stroke-dasharray="0, 100"/>
                            </svg>
                        </div>
                        <div class="metric-display__info">
                            <span class="metric-display__label">Last Period</span>
                            <span class="metric-display__value" id="latest-last-period">—</span>
                            <span class="metric-display__status metric-display__status--normal" id="latest-status">Add first entry</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Recommendations Card -->
            <div class="healthcare-card glass stagger-children">
                <div class="healthcare-card__header">
                    <div class="healthcare-card__icon">🤖</div>
                    <div>
                        <h3 class="healthcare-card__title">AI Recommendations</h3>
                        <p class="healthcare-card__subtitle">Personalized insights</p>
                    </div>
                </div>
                <div class="healthcare-card__content">
                    <div class="recommendation-list" id="aiRecommendationsList">
                        <div class="recommendation-item">
                            <div class="recommendation-item__icon" style="background: rgba(14, 165, 233, 0.1);">💡</div>
                            <div class="recommendation-item__content">
                                <div class="recommendation-item__title" id="rec1Title">Add Entry</div>
                                <div class="recommendation-item__description" id="rec1Desc">Log your first entry to get personalized recommendations.</div>
                            </div>
                            <span class="recommendation-item__priority recommendation-item__priority--high" id="rec1Priority">—</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cycle Tracking Card -->
            <div class="healthcare-card glass stagger-children">
                <div class="healthcare-card__header">
                    <div class="healthcare-card__icon">📈</div>
                    <div>
                        <h3 class="healthcare-card__title">Cycle Trends</h3>
                        <p class="healthcare-card__subtitle">Your patterns over time</p>
                    </div>
                </div>
                <div class="healthcare-card__content">
                    <div class="health-metric">
                        <div class="health-metric__icon">📊</div>
                        <div class="health-metric__info">
                            <span class="health-metric__label">Avg Cycle</span>
                            <span class="health-metric__value" id="cycle-value">— <span class="health-metric__unit">days</span></span>
                        </div>
                        <div class="health-metric__trend" id="cycleTrend">—</div>
                    </div>
                    <div class="health-metric" style="margin-top: 12px;">
                        <div class="health-metric__icon">🩸</div>
                        <div class="health-metric__info">
                            <span class="health-metric__label">Avg Period</span>
                            <span class="health-metric__value" id="period-value">— <span class="health-metric__unit">days</span></span>
                        </div>
                    </div>
                    <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-top: 12px;" id="cyclePhase">Add entries to see cycle patterns</p>
                </div>
            </div>

            <!-- Quick Actions Card -->
            <div class="healthcare-card glass stagger-children">
                <div class="healthcare-card__header">
                    <div class="healthcare-card__icon">⚡</div>
                    <div>
                        <h3 class="healthcare-card__title">Quick Actions</h3>
                        <p class="healthcare-card__subtitle">Stay on track</p>
                    </div>
                </div>
                <div class="healthcare-card__content">
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <a href="form.html" class="btn btn--primary" style="width: 100%; justify-content: center;">
                            <span>📝</span> Log Today's Symptoms
                        </a>
                        <button class="btn btn--secondary" style="width: 100%; justify-content: center;" onclick="document.getElementById('assistantPanel').classList.add('open')">
                            <span>💬</span> Chat with AI Assistant
                        </button>
                        <button class="btn btn--ghost" style="width: 100%; justify-content: center;">
                            <span>📋</span> View Full Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Privacy Note -->
        <div class="cta-box" style="margin-top: 32px; background: rgba(14, 165, 233, 0.05); border: 1px solid rgba(14, 165, 233, 0.2);">
            <div style="display: flex; align-items: center; gap: 16px;">
                <div style="font-size: 2rem;">🔒</div>
                <div>
                    <h4 style="margin-bottom: 4px;">Your Privacy is Protected</h4>
                    <p style="margin: 0; font-size: 0.875rem; color: var(--color-text-secondary);">All your health data is stored locally on your device. We never transmit or share your personal information.</p>
                </div>
            </div>
        </div>
    </main>


        <!-- Floating AI Button (FAB) -->
        <button class="floating-ai-btn" id="openAIFab" title="Chat with AI Assistant" aria-label="Open AI Assistant">
            <span style="font-size:2.1rem;">🤖</span>
        </button>
        <script>
            // Floating AI Button opens assistant panel
            document.addEventListener('DOMContentLoaded', function() {
                var fab = document.getElementById('openAIFab');
                var panel = document.getElementById('assistantPanel');
                if (fab && panel) {
                    fab.addEventListener('click', function() {
                        panel.classList.add('open');
                        panel.setAttribute('aria-hidden', 'false');
                        var chatInput = document.getElementById('chatInput');
                        if (chatInput) chatInput.focus();
                    });
                }
            });
        </script>

    <!-- AI Assistant Panel -->
    <div class="assistant-panel" id="assistantPanel" aria-hidden="true">
        <div class="assistant-card" style="max-width: 600px;">
            <div class="assistant-header">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div class="chat-message__avatar chat-message__avatar--ai" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #10b981, #06b6d4); display: flex; align-items: center; justify-content: center;">🤖</div>
                    <div>
                        <h2 style="font-size: 1.1rem; margin: 0;">AI Health Assistant</h2>
                        <p style="font-size: 0.75rem; color: #22c55e; margin: 0;">● Online</p>
                    </div>
                </div>
                <button class="assistant-close" id="assistantClose" type="button">✕</button>
            </div>
            <div class="assistant-body" style="height: 400px;">
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-message assistant-msg">
                        <div class="message-avatar">🤖</div>
                        <div class="message-content">
                            <p>👋 Hello! I'm your AI Health Assistant.</p>
                            <p>I can help you understand your health data better. Ask me about:</p>
                            <ul style="margin: 8px 0 0 20px;">
                                <li>Your cycle patterns</li>
                                <li>Symptom analysis</li>
                                <li>Lifestyle recommendations</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                    <button class="btn btn--ghost btn--icon" id="uploadBtn" type="button" title="Upload image">📷</button>
                    <textarea id="chatInput" placeholder="Type your question..." rows="1" style="flex: 1;"></textarea>
                    <button class="btn btn--primary btn--icon" id="chatSend" type="button">➤</button>
                </div>
                <p style="font-size: 0.7rem; color: var(--color-text-muted); margin: 8px 0 0; text-align: center;">
                    ⚠️ Educational only. Not medical advice. Consult a healthcare provider.
                </p>
            </div>
        </div>
    </div>

    <script src="config-loader.js"></script>
    <script src="app.js"></script>
                <style>
                    .special-add-entry {
                        background: linear-gradient(90deg, #fbbf24 0%, #f472b6 100%);
                        color: #fff !important;
                        border: none;
                        box-shadow: 0 2px 12px 0 rgba(251,191,36,0.15), 0 1.5px 8px 0 rgba(244,114,182,0.12);
                        font-weight: 600;
                        letter-spacing: 0.01em;
                        position: relative;
                        overflow: hidden;
                        transition: transform 0.18s cubic-bezier(.4,2,.6,1), box-shadow 0.18s;
                        z-index: 1;
                    }
                    .special-add-entry:hover, .special-add-entry:focus {
                        transform: scale(1.06) rotate(-1deg);
                        box-shadow: 0 4px 24px 0 rgba(251,191,36,0.22), 0 3px 16px 0 rgba(244,114,182,0.18);
                        background: linear-gradient(90deg, #f472b6 0%, #fbbf24 100%);
                    }
                    .special-add-entry::after {
                        content: '';
                        position: absolute;
                        left: -40%;
                        top: 0;
                        width: 180%;
                        height: 100%;
                        background: linear-gradient(120deg, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.04) 100%);
                        pointer-events: none;
                        z-index: 0;
                        transition: opacity 0.3s;
                        opacity: 0.7;
                        animation: shimmer 2.2s infinite linear;
                    }
                    @keyframes shimmer {
                        0% { left: -40%; }
                        100% { left: 100%; }
                    }
                </style>
        <script>
            // --- Language Switcher for Dashboard ---
            const DASH_LANG_KEY = 'dashboard_lang';
            const dashboardTranslations = {
                en: {
                    dashboardTitle: 'Your Health Dashboard',
                    dashboardSubtitle: 'Track your wellness journey and receive personalized insights',
                    avgCycle: 'Avg Cycle Days',
                    periodDays: 'Period Days',
                    healthScore: 'Health Score',
                    symptomsLogged: 'Symptoms Logged',
                    latestEntry: 'Latest Entry',
                    noEntries: 'No entries yet',
                    lastPeriod: 'Last Period',
                    addFirstEntry: 'Add first entry',
                    aiRecommendations: 'AI Recommendations',
                    personalizedInsights: 'Personalized insights',
                    dietTip: 'Diet Tip',
                    dietDesc: 'Eat more fiber-rich foods and healthy fats. Limit processed sugars.',
                    exerciseSuggestion: 'Exercise Suggestion',
                    exerciseDesc: 'Aim for 30 minutes of moderate activity most days.',
                    sleepRecommendation: 'Sleep Recommendation',
                    sleepDesc: 'Aim for 7–9 hours of restful sleep each night.',
                    high: 'High',
                    medium: 'Medium',
                    low: 'Low',
                    cycleTrends: 'Cycle Trends',
                    patternsOverTime: 'Your patterns over time',
                    cycleLength: 'Cycle Length',
                    days: 'days',
                    quickActions: 'Quick Actions',
                    stayOnTrack: 'Stay on track',
                    logSymptoms: 'Log Today\'s Symptoms',
                    chatAI: 'Chat with AI Assistant',
                    viewReport: 'View Full Report',
                    privacyTitle: 'Your Privacy is Protected',
                    privacyDesc: 'All your health data is stored locally on your device. We never transmit or share your personal information.',
                    aiDisclaimer: 'AI suggestions are informational only and not medical advice. Always consult a healthcare provider.'
                },
                te: {
                    dashboardTitle: 'మీ ఆరోగ్య డాష్‌బోర్డ్',
                    dashboardSubtitle: 'మీ ఆరోగ్య ప్రయాణాన్ని ట్రాక్ చేయండి మరియు వ్యక్తిగత సూచనలు పొందండి',
                    avgCycle: 'సగటు సైకిల్ రోజులు',
                    periodDays: 'పీరియడ్ రోజులు',
                    healthScore: 'ఆరోగ్య స్కోర్',
                    symptomsLogged: 'లక్షణాలు నమోదు అయ్యాయి',
                    latestEntry: 'తాజా నమోదు',
                    noEntries: 'ఇంకా నమోదు లేదు',
                    lastPeriod: 'చివరి పీరియడ్',
                    addFirstEntry: 'మొదటి నమోదు చేయండి',
                    aiRecommendations: 'AI సూచనలు',
                    personalizedInsights: 'వ్యక్తిగత సూచనలు',
                    dietTip: 'ఆహార సూచన',
                    dietDesc: 'ఫైబర్ మరియు ఆరోగ్యకరమైన కొవ్వులు ఎక్కువగా తినండి. ప్రాసెస్డ్ షుగర్స్ తగ్గించండి.',
                    exerciseSuggestion: 'వ్యాయామ సూచన',
                    exerciseDesc: 'రోజుకు 30 నిమిషాలు మోస్తరు వ్యాయామం చేయండి.',
                    sleepRecommendation: 'నిద్ర సూచన',
                    sleepDesc: 'ప్రతి రాత్రి 7–9 గంటలు నిద్రపోండి.',
                    high: 'అధిక',
                    medium: 'మధ్య',
                    low: 'తక్కువ',
                    cycleTrends: 'సైకిల్ ధోరణులు',
                    patternsOverTime: 'మీ ధోరణులు',
                    cycleLength: 'సైకిల్ పొడవు',
                    days: 'రోజులు',
                    quickActions: 'త్వరిత చర్యలు',
                    stayOnTrack: 'పట్టుదలగా ఉండండి',
                    logSymptoms: 'ఈరోజు లక్షణాలు నమోదు చేయండి',
                    chatAI: 'AI అసిస్టెంట్‌తో చాట్ చేయండి',
                    viewReport: 'పూర్తి నివేదిక చూడండి',
                    privacyTitle: 'మీ గోప్యత రక్షించబడింది',
                    privacyDesc: 'మీ ఆరోగ్య డేటా మీ పరికరంలో మాత్రమే నిల్వ ఉంటుంది. మేము మీ వ్యక్తిగత సమాచారాన్ని ఎప్పుడూ పంపించము లేదా పంచుకోము.',
                    aiDisclaimer: 'AI సూచనలు సమాచారం కోసం మాత్రమే. వైద్య సలహా కోసం డాక్టర్‌ను సంప్రదించండి.'
                },
                hi: {
                    dashboardTitle: 'आपका स्वास्थ्य डैशबोर्ड',
                    dashboardSubtitle: 'अपनी स्वास्थ्य यात्रा को ट्रैक करें और व्यक्तिगत सुझाव प्राप्त करें',
                    avgCycle: 'औसत साइकिल दिन',
                    periodDays: 'पीरियड दिन',
                    healthScore: 'स्वास्थ्य स्कोर',
                    symptomsLogged: 'लक्षण दर्ज किए गए',
                    latestEntry: 'नवीनतम प्रविष्टि',
                    noEntries: 'अभी तक कोई प्रविष्टि नहीं',
                    lastPeriod: 'अंतिम पीरियड',
                    addFirstEntry: 'पहली प्रविष्टि जोड़ें',
                    aiRecommendations: 'AI सिफारिशें',
                    personalizedInsights: 'व्यक्तिगत सुझाव',
                    dietTip: 'आहार सुझाव',
                    dietDesc: 'अधिक फाइबर और स्वस्थ वसा खाएं। प्रोसेस्ड शुगर कम करें।',
                    exerciseSuggestion: 'व्यायाम सुझाव',
                    exerciseDesc: 'अधिकांश दिनों में 30 मिनट का मध्यम व्यायाम करें।',
                    sleepRecommendation: 'नींद सुझाव',
                    sleepDesc: 'हर रात 7–9 घंटे की नींद लें।',
                    high: 'उच्च',
                    medium: 'मध्यम',
                    low: 'कम',
                    cycleTrends: 'साइकिल प्रवृत्तियाँ',
                    patternsOverTime: 'आपकी प्रवृत्तियाँ',
                    cycleLength: 'साइकिल लंबाई',
                    days: 'दिन',
                    quickActions: 'त्वरित क्रियाएँ',
                    stayOnTrack: 'पथ पर बने रहें',
                    logSymptoms: 'आज के लक्षण दर्ज करें',
                    chatAI: 'AI सहायक से चैट करें',
                    viewReport: 'पूर्ण रिपोर्ट देखें',
                    privacyTitle: 'आपकी गोपनीयता सुरक्षित है',
                    privacyDesc: 'आपका स्वास्थ्य डेटा केवल आपके डिवाइस पर संग्रहीत है। हम कभी भी आपकी व्यक्तिगत जानकारी साझा या ट्रांसमिट नहीं करते।',
                    aiDisclaimer: 'AI सुझाव केवल जानकारी के लिए हैं, चिकित्सा सलाह नहीं। हमेशा डॉक्टर से सलाह लें।'
                }
            };

            function setDashboardLanguage(lang) {
                const t = dashboardTranslations[lang] || dashboardTranslations.en;
                // Header
                const title = document.querySelector('.dashboard__title');
                if (title) title.textContent = t.dashboardTitle;
                const subtitle = document.querySelector('.dashboard__subtitle');
                if (subtitle) subtitle.textContent = t.dashboardSubtitle;
                // Stats
                const statLabels = document.querySelectorAll('.stat-item__label');
                if (statLabels.length === 4) {
                    statLabels[0].textContent = t.avgCycle;
                    statLabels[1].textContent = t.periodDays;
                    statLabels[2].textContent = t.healthScore;
                    statLabels[3].textContent = t.symptomsLogged;
                }
                // Latest Entry
                const latestTitle = document.querySelector('.healthcare-card__title');
                if (latestTitle) latestTitle.textContent = t.latestEntry;
                const latestSubtitle = document.getElementById('latest-timestamp');
                if (latestSubtitle && latestSubtitle.textContent === 'No entries yet') latestSubtitle.textContent = t.noEntries;
                const lastPeriodLabel = document.querySelector('.metric-display__label');
                if (lastPeriodLabel) lastPeriodLabel.textContent = t.lastPeriod;
                const addFirstEntry = document.getElementById('latest-status');
                if (addFirstEntry && addFirstEntry.textContent === 'Add first entry') addFirstEntry.textContent = t.addFirstEntry;
                // AI Recommendations
                const aiTitle = document.querySelectorAll('.healthcare-card__title')[1];
                if (aiTitle) aiTitle.textContent = t.aiRecommendations;
                const aiSubtitle = document.querySelectorAll('.healthcare-card__subtitle')[1];
                if (aiSubtitle) aiSubtitle.textContent = t.personalizedInsights;
                const recTitles = document.querySelectorAll('.recommendation-item__title');
                if (recTitles.length === 3) {
                    recTitles[0].textContent = t.dietTip;
                    recTitles[1].textContent = t.exerciseSuggestion;
                    recTitles[2].textContent = t.sleepRecommendation;
                }
                const recDescs = document.querySelectorAll('.recommendation-item__description');
                if (recDescs.length === 3) {
                    recDescs[0].textContent = t.dietDesc;
                    recDescs[1].textContent = t.exerciseDesc;
                    recDescs[2].textContent = t.sleepDesc;
                }
                const recPrio = document.querySelectorAll('.recommendation-item__priority');
                if (recPrio.length === 3) {
                    recPrio[0].textContent = t.high;
                    recPrio[1].textContent = t.medium;
                    recPrio[2].textContent = t.low;
                }
                // Cycle Trends
                const trendsTitle = document.querySelectorAll('.healthcare-card__title')[2];
                if (trendsTitle) trendsTitle.textContent = t.cycleTrends;
                const trendsSubtitle = document.querySelectorAll('.healthcare-card__subtitle')[2];
                if (trendsSubtitle) trendsSubtitle.textContent = t.patternsOverTime;
                const cycleLabel = document.querySelector('.health-metric__label');
                if (cycleLabel) cycleLabel.textContent = t.cycleLength;
                const cycleUnit = document.querySelector('.health-metric__unit');
                if (cycleUnit) cycleUnit.textContent = t.days;
                // Quick Actions
                const quickTitle = document.querySelectorAll('.healthcare-card__title')[3];
                if (quickTitle) quickTitle.textContent = t.quickActions;
                const quickSubtitle = document.querySelectorAll('.healthcare-card__subtitle')[3];
                if (quickSubtitle) quickSubtitle.textContent = t.stayOnTrack;
                const logBtn = document.querySelector('.btn.btn--primary');
                if (logBtn) logBtn.innerHTML = `<span>📝</span> ${t.logSymptoms}`;
                const chatBtn = document.querySelector('.btn.btn--secondary');
                if (chatBtn) chatBtn.innerHTML = `<span>💬</span> ${t.chatAI}`;
                const reportBtn = document.querySelector('.btn.btn--ghost');
                if (reportBtn) reportBtn.innerHTML = `<span>📋</span> ${t.viewReport}`;
                // Privacy
                const privacyTitle = document.querySelector('.cta-box h4');
                if (privacyTitle) privacyTitle.textContent = t.privacyTitle;
                const privacyDesc = document.querySelector('.cta-box p');
                if (privacyDesc) privacyDesc.textContent = t.privacyDesc;
                // Disclaimer
                const disclaimer = document.querySelector('.ai-disclaimer');
                if (disclaimer) disclaimer.textContent = t.aiDisclaimer;
            }

            function getDashboardLanguage() {
                return localStorage.getItem(DASH_LANG_KEY) || 'en';
            }

            document.addEventListener('DOMContentLoaded', function() {
                const langSelect = document.getElementById('languageSelect');
                if (langSelect) {
                    // Set initial value
                    langSelect.value = getDashboardLanguage();
                    setDashboardLanguage(langSelect.value);
                    langSelect.addEventListener('change', function() {
                        localStorage.setItem(DASH_LANG_KEY, langSelect.value);
                        setDashboardLanguage(langSelect.value);
                    });
                } else {
                    setDashboardLanguage(getDashboardLanguage());
                }
            });
        </script>
</body>
</html>
